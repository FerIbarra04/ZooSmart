<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aquarium Setup</title>
    <link rel="stylesheet" href="css/aquaticIOT.css">
</head>
<body>
    <div class="form-container">
        <h2 class="title-contain">Control Box</h2>
        <h2 class="subtitle">Water Level</h2>
        <p class="stateLW">Normal</p>
        <p class="txt" id="waterLevel"></p>
        <h1 class="subtitle">Aquarium Setup</h1>
        <form id="configForm">
            <div class="form-group">
                <label class="txt" for="low-temp">Low temperature (°C):</label>
                <input type="number" id="low-temp" name="low-temp" step="0.1" required>
            </div>
            <div class="form-group">
                <label class="txt" for="normal-temp">Normal temperature (°C):</label>
                <input type="number" id="normal-temp" name="normal-temp" step="0.1" required>
            </div>
            <div class="form-group">
                <label class="txt" for="high-temp">High temperature (°C):</label>
                <input type="number" id="high-temp" name="high-temp" step="0.1" required>
            </div>
            <div class="form-group">
                <label class="txt" for="feeding-time">Feeding Time:</label>
                <input type="time" id="feeding-time" name="feeding-time" required>
            </div>
            <div class="form-group">
                <button type="button" onclick="validateForm()">Send</button>
            </div>
        </form>
    </div>

    <!-- Modal -->
    <div id="errorModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="close" onclick="closeModal()">&times;</span>
                <h2>Configuration Error!</h2>
            </div>
            <div class="modal-body" id="modalMessage">
                <!-- Error message will be inserted here -->
            </div>
        </div>
    </div>

    <script>
        function validateForm() {
            const lowTemp = parseFloat(document.getElementById('low-temp').value);
            const normalTemp = parseFloat(document.getElementById('normal-temp').value);
            const highTemp = parseFloat(document.getElementById('high-temp').value);

            if (lowTemp >= normalTemp || normalTemp >= highTemp) {
                document.getElementById('modalMessage').innerText = 'Error: Please check the temperature ranges:\n- Low temperature must be less than normal temperature.\n- Normal temperature must be less than high temperature.';
                document.getElementById('errorModal').style.display = 'block';
                return;
            }

            // Simulate successful data sent alert
            alert("Data sent successfully");
        }

        function closeModal() {
            document.getElementById('errorModal').style.display = 'none';
        }
    </script>
</body>
</html>